<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>PhÃ¢n tÃ­ch JWT & Rá»§i ro báº£o máº­t</title>
    <style>
        body {
            font-family: "Segoe UI", sans-serif;
            background: #f9f9f9;
            color: #2c3e50;
            padding: 20px;
            line-height: 1.6;
        }
        h1, h2 {
            color: #34495e;
        }
        code {
            background: #ecf0f1;
            padding: 2px 6px;
            border-radius: 4px;
        }
        pre {
            background: #f4f4f4;
            padding: 12px;
            border-left: 4px solid #3498db;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: #fff;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ccc;
            text-align: left;
        }
        th {
            background-color: #2980b9;
            color: white;
        }
        .danger {
            color: #e74c3c;
            font-weight: bold;
        }
        img {
            max-width: 100%;
            border: 1px solid #ccc;
            margin-top: 10px;
            border-radius: 5px;
        }
        ul {
            margin-left: 20px;
        }
    </style>
</head>
<body>

<h1>ğŸ” PhÃ¢n tÃ­ch JWT vÃ  Rá»§i ro Báº£o máº­t</h1>

<h2>1. Giáº£i mÃ£ chuá»—i JWT</h2>

<p>Chuá»—i JWT máº«u:</p>
<pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.
eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkNvbmcgdHJ1bmciLCJpYXQiOjE1MTYyMzkwMjJ9.
SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</code></pre>

<p>ÄÃ¢y lÃ  má»™t token há»£p lá»‡ theo Ä‘á»‹nh dáº¡ng JWT gá»“m 3 pháº§n: <code>Header</code>, <code>Payload</code>, <code>Signature</code>.</p>

<p>Giáº£i mÃ£ chuá»—i báº±ng cÃ´ng cá»¥ <a href="https://jwt.io" target="_blank">jwt.io</a> sáº½ hiá»ƒn thá»‹:</p>

<img src="JWT.png" alt="" height="965" width="1919" />

<p>(HÃ¬nh áº£nh giáº£i mÃ£ minh há»a láº¥y tá»« jwt.io vá»›i chuá»—i máº«u trÃªn)</p>

<h2>2. CÃ¡c trÆ°á»ng trong Payload vÃ  Ã nghÄ©a</h2>

<p>Sau khi giáº£i mÃ£ pháº§n <code>Payload</code> sáº½ cÃ³ káº¿t quáº£ nhÆ° sau:</p>
<pre><code>{
  "sub": "1234567890",
  "name": "Cong trung",
  "iat": 1516239022
}</code></pre>

<table>
    <thead>
    <tr>
        <th>TrÆ°á»ng</th>
        <th>Ã nghÄ©a</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><code>sub</code></td>
        <td>Subject â€“ ID cá»§a ngÆ°á»i dÃ¹ng. Äáº¡i diá»‡n cho "ai" Ä‘ang Ä‘Äƒng nháº­p.</td>
    </tr>
    <tr>
        <td><code>name</code></td>
        <td>TÃªn ngÆ°á»i dÃ¹ng (tÃ¹y chá»‰nh, khÃ´ng báº¯t buá»™c theo chuáº©n).</td>
    </tr>
    <tr>
        <td><code>iat</code></td>
        <td>Issued At â€“ thá»i Ä‘iá»ƒm token Ä‘Æ°á»£c phÃ¡t hÃ nh (timestamp UNIX).</td>
    </tr>
    </tbody>
</table>

<h2>3. Rá»§i ro báº£o máº­t náº¿u Ä‘á»ƒ lá»™ thÃ´ng tin nháº¡y cáº£m trong payload</h2>

<ul>
    <li class="danger">â— JWT KHÃ”NG mÃ£ hÃ³a ná»™i dung â€“ chá»‰ mÃ£ hÃ³a dáº¡ng Base64URL â†’ báº¥t ká»³ ai cÃ³ token Ä‘á»u cÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c.</li>
    <li>ğŸ”“ Náº¿u Ä‘á»ƒ lá»™ thÃ´ng tin nhÆ° <code>email</code>, <code>role</code>, <code>userId</code> hoáº·c tá»‡ hÆ¡n lÃ  <strong>CCCD</strong>, <strong>password</strong> thÃ¬ sáº½ gÃ¢y ra lá»™ lá»t dá»¯ liá»‡u nghiÃªm trá»ng.</li>
    <li>ğŸ•’ Náº¿u token cÃ³ <code>exp</code> quÃ¡ dÃ i, hacker cÃ³ thá»ƒ reuse token lÃ¢u dÃ i náº¿u láº¥y Ä‘Æ°á»£c.</li>
    <li>ğŸ‘€ ThÃ´ng tin trong payload cÃ³ thá»ƒ bá»‹ phÃ¢n tÃ­ch Ä‘á»ƒ táº¥n cÃ´ng brute-force, leo thang quyá»n hoáº·c giáº£ máº¡o náº¿u há»‡ thá»‘ng xá»­ lÃ½ khÃ´ng Ä‘Ãºng.</li>
    <li>ğŸš« KHÃ”NG nÃªn nhÃ©t dá»¯ liá»‡u bÃ­ máº­t vÃ o JWT náº¿u khÃ´ng Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng JWE.</li>
</ul>

<h2>ğŸ¯ Káº¿t luáº­n</h2>
<p>JWT lÃ  má»™t cÃ´ng cá»¥ xÃ¡c thá»±c máº¡nh, nhÆ°ng cáº§n hiá»ƒu Ä‘Ãºng báº£n cháº¥t:</p>
<ul>
    <li>âœ… Token cÃ³ thá»ƒ kiá»ƒm tra chá»¯ kÃ½, nhÆ°ng khÃ´ng che giáº¥u ná»™i dung.</li>
    <li>âœ… KhÃ´ng nÃªn nhÃ©t thÃ´ng tin nháº¡y cáº£m vÃ o payload.</li>
    <li>âœ… NÃªn káº¿t há»£p vá»›i refresh token vÃ  sá»­ dá»¥ng HTTPS Ä‘á»ƒ truyá»n táº£i token an toÃ n.</li>
</ul>

</body>
</html>
